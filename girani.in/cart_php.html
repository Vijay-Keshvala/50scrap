<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cart Information &amp; Checkout | Girani</title>
  <meta name="description" content="View and manage your cart at Girani. Track your items, apply coupons, and calculate GST and shipping charges. Experience hassle-free checkout with customized masala and other products.">
<link rel="stylesheet" href="cart_php_inline.css"></head>
<body>
  
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">

    <!-- Meta Pixel Code -->
    <script src="https://connect.facebook.net/signals/config/1486080545282411?v=2.9.248&amp;r=stable&amp;domain=girani.in&amp;hme=17590b9a2e1b26755cdc9ecb401f9f46bca979d3ccce95d786db0936167af731&amp;ex_m=94%2C156%2C134%2C20%2C67%2C68%2C127%2C63%2C43%2C128%2C72%2C62%2C10%2C141%2C80%2C15%2C93%2C28%2C122%2C115%2C70%2C73%2C121%2C138%2C102%2C143%2C7%2C3%2C4%2C6%2C5%2C2%2C81%2C91%2C144%2C224%2C167%2C57%2C226%2C227%2C50%2C183%2C27%2C69%2C232%2C231%2C170%2C30%2C56%2C9%2C59%2C87%2C88%2C89%2C95%2C118%2C29%2C26%2C120%2C117%2C116%2C135%2C71%2C137%2C136%2C45%2C55%2C111%2C14%2C140%2C40%2C213%2C215%2C177%2C23%2C24%2C25%2C17%2C18%2C39%2C35%2C37%2C36%2C76%2C82%2C86%2C100%2C126%2C129%2C41%2C101%2C21%2C19%2C107%2C64%2C33%2C131%2C130%2C132%2C123%2C22%2C32%2C54%2C99%2C139%2C65%2C16%2C133%2C104%2C31%2C193%2C163%2C284%2C211%2C154%2C196%2C189%2C164%2C97%2C119%2C75%2C109%2C49%2C44%2C103%2C42%2C108%2C114%2C53%2C60%2C113%2C48%2C51%2C47%2C90%2C142%2C0%2C112%2C13%2C110%2C11%2C1%2C52%2C83%2C58%2C61%2C106%2C79%2C78%2C145%2C146%2C84%2C85%2C8%2C92%2C46%2C124%2C77%2C74%2C66%2C105%2C96%2C38%2C125%2C34%2C98%2C12%2C147" async=""></script><script async="" src="https://connect.facebook.net/en_US/fbevents.js"></script><script>
        ! function(f, b, e, v, n, t, s) {
            if (f.fbq) return;
            n = f.fbq = function() {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n;
            n.push = n;
            n.loaded = !0;
            n.version = '2.0';
            n.queue = [];
            t = b.createElement(e);
            t.async = !0;
            t.src = v;
            s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '1486080545282411');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
            alt="facebook events"
            src="https://www.facebook.com/tr?id=1486080545282411&ev=PageView&noscript=1" /></noscript>
    <!-- End Meta Pixel Code -->

    <!-- Google Tag Manager -->
    <!-- <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-TR63PCJX');
    </script> -->


    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-83M0NLDXFZ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-83M0NLDXFZ');
    </script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph (Facebook, WhatsApp, LinkedIn) -->
    <meta property="og:title" content="Girani – Make Your Own Masala, Cold-Pressed Oils &amp; More">
    <meta property="og:description" content="Customize your own masala powder or pick from our handcrafted blends. Girani offers cold-pressed oils, dry fruits, and freshly milled flours – all pure, all you.">
    <meta property="og:image" content="https://girani.in/assets/images/og-banner.jpg">
    <meta property="og:url" content="https://girani.in/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Girani">
    <meta property="article:author" content="https://www.facebook.com/people/Girani-Make-Your-Own-Masala-Wood-Cold-Pressed-Oils-Freshly-Milled-Flours/100089518895956/"  ="">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Girani – Pure Masala. Your Way.">
    <meta name="twitter:description" content="Explore homemade masala blends, cold-pressed oils, and freshly milled flours. Create your flavor story with Girani.">
    <meta name="twitter:image" content="https://girani.in/assets/images/og-banner.jpg">
    <meta name="twitter:site" content="@girani_mill">
    <meta name="twitter:url" content="https://girani.in/"  ="">

    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Girani",
            "url": "https://girani.in/",
            "logo": "https://girani.in/assets/images/logo.png",
            "sameAs": [
                "https://www.facebook.com/people/Girani-Make-Your-Own-Masala-Wood-Cold-Pressed-Oils-Freshly-Milled-Flours/100089518895956/",
                "https://www.instagram.com/girani_mill/",
                "https://x.com/girani_mill",
                "https://www.linkedin.com/company/girani-masala-mill/"
            ]
        }
    </script>

    <link rel="icon" type="image/x-icon" href="./Assets/images/Group 30386.png">
    <link rel="stylesheet" href="assets/font_awesome_min_7806.css">
    <link rel="stylesheet" href="assets/bootstrap_min_7879.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="assets/all_min_8109.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="assets/w3_8189.css">
    <link rel="stylesheet" href="assets/css_8331.css">
    <link rel="stylesheet" href="assets/css_8566.css">
    <link rel="stylesheet" href="assets/font_awesome_min_7806.css">

<style>
    * {
        box-sizing: border-box;
    }

    body {
        margin: 0px;
        font-family: 'segoe ui';
    }

    .nav {
        height: 50px !important;
        width: 100%;
        background-color: #4d4d4d;
        position: relative;
    }

    .nav>.nav-header {
        display: inline;
    }

    .navbar {
        position: absolute !important;

    }

    .nav>.nav-header>.nav-title {
        display: inline-block;
        font-size: 22px;
        color: #000;
        padding: 10px 10px 10px 10px;
    }

    .nav>.nav-btn {
        display: none;
    }

    .nav-links {
        display: none;
    }


    .nav>#nav-check {
        display: none;
    }

    @media only screen and (min-width: 100px) and (max-width: 1000px) {
        .nav {
            height: 100px !important;
            padding: 10px !important;
        }

        .navtopbar {
            display: none !important;
        }

        .logo {
            position: absolute;
            left: 50%;
            padding: 1px;
            font-size: 2.5rem;
            margin-top: -5px;
        }

        .userdetails {
            color: transparent !important;
        }

        .nav>.nav-btn {
            display: inline-block;
            position: absolute;
            right: 0px;
            top: 0px;


        }

        .nav>.nav-btn>label {
            display: inline-block;
            width: 50px;
            height: 50px;
            padding: 13px;
            background-color: #593825;
            margin-top: 20px;
        }

        .nav>.nav-btn>label:hover,
        .nav #nav-check:checked~.nav-btn>label {
            background-color: #593825;
            margin-right: 10px;

        }

        .nav>.nav-btn>label>span {
            display: block;
            width: 25px;
            height: 10px;
            border-top: 2px solid #eee;
        }

        .nav>.nav-links {
            position: absolute;
            display: block;
            width: 100%;
            background-color: #593825;
            height: 0px;
            transition: all 0.3s ease-in;
            overflow-y: hidden;
            top: 97px;
            right: 0px;
            color: #fff;
            line-height: 40px !important;
            padding-left: 25px !important;
        }

        .nav>.nav-links>a {
            display: block;
            width: 100%;
            color: white !important;
        }

        .nav>#nav-check:not(:checked)~.nav-links {
            height: 0px;
        }

        .nav>#nav-check:checked~.nav-links {
            height: calc(88vh - 50px);
            overflow-y: auto;
        }

        .logo {
            position: absolute;
            left: 50%;
            padding: 1px;
            font-size: 2.5rem;
            margin-top: -5px;
        }



        .nav-dropdown {
            position: static;
        }

        .navbar-links {
            display: none !important;
        }


    }

    @media only screen and (min-width: 1001px) and (max-width: 2500px) {
        .nav {
            height: 100px !important;
        }

        .navtopbar1 {
            display: none !important;
        }
    }

    @media only screen and (min-width: 1001px) and (max-width: 1161px) {
        .navbar-links li.navbar-dropdown {
            position: relative;
            font-size: 17px !important;
        }
    }


    .logo {
        order: 1;
        font-size: 2.3rem;
        position: absolute;
        left: 0px;
        top: -15px;
        padding: 15px;
    }

    .basket {
        /* background-color: #985F3F; */
        width: 40px;
        height: 45px;
        border-radius: 5px;
        padding: 5px;
        margin-top: -10px;
    }

    .nav {
        height: 15%;
    }

    .nav-dropdown {
        position: absolute;
        display: none;
        z-index: 1;
        box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);
    }

    /* nav link dropdown  */
    .navbar-links {
        list-style-type: none;
        display: flex;
        margin-left: 275px;
    }

    .navbar-links li a {
        display: block;
        text-decoration: none;
        color: #444;
        padding: 25px 15px;
        font-weight: 500;
        transition: 0.4s all;
    }

    .navbar-links li.navbar-dropdown {
        position: relative;
        font-size: 20px;
    }

    .navbar-links li.navbar-dropdown:hover .dropdown {
        visibility: visible;
        opacity: 1;
        transform: translateY(0px);
    }

    .navbar-links li.navbar-dropdown .dropdown {
        visibility: hidden;
        opacity: 0;
        position: absolute;
        padding: 20px 0;
        top: 100%;
        transform: translateY(50px);
        left: 0;
        width: 250px;
        background-color: #EFE6DD;
        box-shadow: 0px 10px 10px 3px rgba(0, 0, 0, 0.3);
        border-bottom-left-radius: 3px;
        border-bottom-right-radius: 3px;
        z-index: 111;
        transition: 0.4s all;
    }

    .navbar-links li.navbar-dropdown .dropdown a {
        padding-top: 10px;
        padding-bottom: 10px;

        font-weight: 400;
    }

    .listdata:hover {
        background-color: white;

    }

    #drop1:hover {
        background-color: white;
    }

    .blog:hover {
        background-color: white;
    }

    .recipe:hover {
        background-color: white;
    }

    #drop2:hover {
        background-color: white;
    }

    .blink {
        animation: blinker 1s step-end infinite;
    }

    a {
        text-decoration: none;
        color: unset;
    }

    a {
        outline: none;
    }

    @media only screen and (min-width: 1200px) {
        .freeship {
            right: 25%;
        }
    }

    @media only screen and (min-width: 1001px) and (max-width: 1199px) {
        .freeship {
            right: 15%;
        }
    }
</style>






    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe
            src="https://www.googletagmanager.com/ns.html?id=GTM-TR63PCJX"
            height="0"
            width="0"
            style="display:none;visibility:hidden"
            title="Google Tag Manager"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->


    <div class="navtopbar" style="background-color: #593825; display: flex;">
        <div class="freeship" style="display: flex;  position: absolute;top:12px;">
            <!-- <p style="text-align:center;color:#fff;">
                FREE SHIPPING TO ANYWHERE IN BANGALORE
            <p style="text-align:center;color:#FFA500;" id="blink"> &nbsp INTRODUCTORY OFFER</p>
            </p> -->

            <p style="text-align:center;color:#fff;">
                FREE SHIPPING ON ORDERS ABOVE ₹1500
            </p><p style="text-align: center; color: rgb(255, 165, 0); opacity: 0;" id="blink"> &nbsp; WITHIN BANGALORE</p>
            <p></p>
        </div>
        <div style="display: flex;position: relative;left:0;top:4px;">
            <div>
                <p class="mt-2 ml-3" style="margin-left:10px;color:#fff"><i class="fa fa-phone"></i> +91 8105723582</p>
            </div>
            <div>
                <p class="mt-2 ml-3" style="margin-left:10px;color:#fff"><i class="fa fa-envelope"></i> support@girani.in</p>
            </div>
        </div>
        <div style="display: flex; position: absolute;right:0px;top:5px;">
            <select style="background-color:transparent;color:#fff;border:none;margin-top:7px">
                <option style="color:black">INR</option>
                <option style="color:black">USD</option>
                <option style="color:black">EUR</option>
            </select>
        </div>

    </div>

    <div class="nav" style="background-color: #EFE6DD;width:100% !important;">
        <input type="checkbox" id="nav-check">

        <div class="nav-btn">
            <label for="nav-check">
                <span></span>
                <span></span>
                <span></span>
            </label>
        </div>
        <div style=" display: flex;padding:10px">
            <a href="./" aria-label="Go to Girani Home Page">
                <h2 class="logo">
                    <img src="assets/Group_2030386_8799.webp" alt="Girani Home Logo" style="width: 120px; height: 90px; padding: 4px;">
                </h2>
            </a>


            <div class="ml-5" style="margin-left:140px !important;">
                <p class="userdetails" style="color:rgb(0, 0, 0);opacity: 1;font-weight:400;font-size:20px;margin:0px;margin-top:10px!important;"> Welcome to Girani </p>
                <p class="userdetails" id="usernavname" style="color: #593825;opacity: 1;font-weight:600;font-size:23px;margin:0px;"> User</p>

            </div>
        </div>
        <nav class="navbar " style="right: 0px;padding: 0rem 1rem;">
            <!-- <a href="#" class="navbar-logo"><i class="material-icons">fastfood</i> foodRoad</a> -->
            <ul class="navbar-links">
                <li class="navbar-dropdown">
                    <a href="./" aria-label="Girani Home – Authentic Homemade Masala Powders">Home</a>
                </li>
                <li class="navbar-dropdown">
                    <a onclick="movetocate1()" style="cursor: pointer;color:#444 !important;">Products</a>
                    <!-- <a href="./products.php" style="cursor: pointer;color:#444 !important;">Products</a> -->
                    <div class="dropdown" id="masalacate">
                        <!-- <a href="./Custom_Masala.php">Make your own masala</a> -->
                    <a onclick="move()" class="listdata" style="cursor: pointer;">Make your own masala</a>
                            <div onclick="checkdata(0)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">Cold Pressed Oils</p>
                            </div>
                        
                            <div onclick="checkdata(1)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">Veg Delight Masalas</p>
                            </div>
                        
                            <div onclick="checkdata(2)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">Non-Veg Delight Masalas</p>
                            </div>
                        
                            <div onclick="checkdata(3)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">Pure Spices Whole</p>
                            </div>
                        
                            <div onclick="checkdata(4)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">Pure Spices Grounded</p>
                            </div>
                        
                            <div onclick="checkdata(5)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">Dry Fruits</p>
                            </div>
                        
                            <div onclick="checkdata(6)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">Fresh Flours</p>
                            </div>
                        
                            <div onclick="checkdata(7)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">PULSES &amp; GRAINS</p>
                            </div>
                        
                            <div onclick="checkdata(8)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">MILLETS</p>
                            </div>
                        
                            <div onclick="checkdata(9)" style="margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">HEALTH MIX</p>
                            </div>
                        </div>
                </li>
                <li class="navbar-dropdown">
                    <a href="./Custom_Masala.php">Make Your Own Masala</a>
                </li>
                <li class="navbar-dropdown">
                    <a href="about-girani.php">About Us</a>
                    <div class="dropdown">
                        <a href="recipe-and-masala-blogs.php" class="blog">Blogs</a>
                        <a href="masala-recipes.php" class="recipe">Recipes</a>
                    </div>
                </li>
                <li class="navbar-dropdown">
                    <a href="./login.html" id="profile">Login</a>
                </li>
                <li class="navbar-dropdown">
                    <!-- <a href="./cart.php"> -->
                    <a onclick="movetocart()" style="cursor: pointer">
                        <!-- <a href="./cart.php" style="cursor: pointer"> -->
                        <img class="basket" src="assets/Cart_20Icon_9175.png" alt=" shopping cart icon with  items – Girani online&nbsp;store">
                        <p style="margin-top: -34px;margin-left: 14px; " id="cartCount">0</p>
                    </a>

                </li>
            </ul>
        </nav>
        <div class="nav-links" style="z-index:3 !important; ">
            <a href="./" aria-label="Girani Home – Authentic Homemade Masala Powders" target="_blank">Home</a>
            <!--<a href="./products.php" target="_blank">Products</a>-->
            <!-- <li class="navbar-dropdown">
                <a style="color:white">Prodfghfguct</a>
                <div class="dropdown" id="masalacate">
                    <a href="./Makeyour_masala.php">Make your own masala</a>
                </div>
            </li> -->


            <div class=" w3-medium w3-text-white">

                <a onclick="myAccFunc()" href="javascript:void(0)" class="w3-block w3-left-align " id="myBtn" style="color: white; ">
                    Products <i class="fa fa-caret-down"></i>
                </a>
                <div id="demoAcc" class="w3-bar-block w3-hide w3-show" style="margin-top:15px">
                    <div class="dropdown" id="masalacateformobile">
                        <!-- <a href="./Makeyour_masala.php">Make your own masala</a> -->
                    
                            <div onclick="checkdata(0)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">Cold Pressed Oils</p>
                            </div>
                        
                            <div onclick="checkdata(1)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">Veg Delight Masalas</p>
                            </div>
                        
                            <div onclick="checkdata(2)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">Non-Veg Delight Masalas</p>
                            </div>
                        
                            <div onclick="checkdata(3)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">Pure Spices Whole</p>
                            </div>
                        
                            <div onclick="checkdata(4)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">Pure Spices Grounded</p>
                            </div>
                        
                            <div onclick="checkdata(5)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">Dry Fruits</p>
                            </div>
                        
                            <div onclick="checkdata(6)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">Fresh Flours</p>
                            </div>
                        
                            <div onclick="checkdata(7)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">PULSES &amp; GRAINS</p>
                            </div>
                        
                            <div onclick="checkdata(8)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">MILLETS</p>
                            </div>
                        
                            <div onclick="checkdata(9)" style="margin-top:-25px">
                                <p class="" style="cursor: pointer; ">HEALTH MIX</p>
                            </div>
                        </div>
                </div>

            </div>
            <li class="navbar-dropdown">
                <a href="./Custom_Masala.php" style="color: unset">Make Your Own Masala</a>
            </li>
            <a href="about-girani.php" target="_blank">About Us</a>
            <div class="dropdown">
                <!-- <a href="https://girani.in/blog/" id="drop1">Blogs</a> -->
                <a href="recipe-and-masala-blogs.php" class="blog">Blogs</a>
                <br><a href="masala-recipes.php" class="recipe" style="cursor: pointer">Recipes</a>
            </div>
            <a href="./login.html" target="_blank" id="profilenew" style="cursor: pointer">Login</a>
            <a href="./cart.php" style="cursor: pointer">
                <img class="basket " src="assets/Cart_20White_9239.png" alt=" shopping cart icon with  items – Girani online&nbsp;store">
                <p style="margin-top: -43px;margin-left: 14px;" id="cartCountOne">0</p>
            </a>
        </div>
    </div>
    

    <div class="navtopbar1" style="background-color: #593825; display: flex;justify-content:center;align-items: center;">
        <div style="display: flex; justify-content:center;align-items: center; margin-top:15px;">
            <p style="text-align:center;color:#fff;font-size:10px">
                FREE SHIPPING ON ORDERS ABOVE ₹1500
            </p><p style="text-align: center; color: rgb(255, 165, 0); font-size: 12px; opacity: 0;" id="blink1"> &nbsp; WITHIN BANGALORE</p>
            <p></p>
        </div>

    </div>


    <script src="./js/axios.js"></script>
    <script src="./js/utils.js"></script>


    <script type="text/javascript">
        var blink =
            document.getElementById('blink');

        setInterval(function() {
            blink.style.opacity =
                (blink.style.opacity == 0 ? 1 : 0);
        }, 1000);


        var blink1 =
            document.getElementById('blink1');

        setInterval(function() {
            blink1.style.opacity =
                (blink1.style.opacity == 0 ? 1 : 0);
        }, 1000);

        function myAccFunc() {
            var x = document.getElementById("demoAcc");
            if (x.className.indexOf("w3-show") == -1) {
                x.className += " w3-show";
            } else {
                x.className = x.className.replace(" w3-show", "");
            }
        }

        // Click on the "Jeans" link on page load to open the accordion for demo purposes
        document.getElementById("myBtn").click();
    </script>

    <script>
        document.addEventListener("keydown", function(e) {
            // Disable F5 key
            if (e.which === 116) {
                e.preventDefault();
                // alert("F5 key is disabled on this website");
            }

            // Disable F12 key
            if (e.which === 123) {
                e.preventDefault();
                // alert("F12 key is disabled on this website");
            }

            // Disable Ctrl+Shift+C
            if (e.ctrlKey && e.shiftKey && e.which === 67) {
                e.preventDefault();
                // alert("Ctrl+Shift+C is disabled on this website");
            }
            // Disable Ctrl+Shift+I
            if (e.ctrlKey && e.shiftKey && e.which === 73) {
                e.preventDefault();
                // alert("Ctrl+Shift+I is disabled on this website");
            }

            // Disable Ctrl+Shift+J
            if (e.ctrlKey && e.shiftKey && e.which === 74) {
                e.preventDefault();
                // alert("Ctrl+Shift+J is disabled on this website");
            }

        });
    </script>

    <script>
        document.addEventListener('contextmenu', event => event.preventDefault());

        var usernavname = '';
        var usernavphone = '';
        var usernavemail = '';

        var mainData = '';

        var apiurl = API_LINK


        const urlnavcate = apiurl + "user/fetchproductcategory";

        axios.get(urlnavcate)
            .then(res => {
                var results = res.data
                if (results.length > 0) {
                    // created_on
                    var results = results;
                    // \category
                    var abc = `<a onclick="move()" class="listdata" style="cursor: pointer;">Make your own masala</a>`
                    // var abc = `<a href="./Custom_Masala.php" class="listdata" style="cursor: pointer;">Make your own masala</a>`
                    $("#masalacate").append(abc);
                    for (var i = 0; i < results.length; i++) {
                        mainData = results
                        var catelist = `
                            <div onclick = "checkdata(` + i + `)" style = "margin-top:15px">
                                <p class="listdata" style="cursor: pointer; padding-left:15px; padding-bottom:10px">` + results[i].name + `</p>
                            </div>
                        `
                        // var catelist = `<p class="listdata" style="cursor: pointer;" onclick="movetocate(` + i + `)">` + results[i].name + `</p>`
                        $("#masalacate").append(catelist);
                    }


                    for (var i = 0; i < results.length; i++) {
                        mainData = results
                        var catelist = `
                            <div onclick = "checkdata(` + i + `)" style = "margin-top:-25px">
                                <p class="" style="cursor: pointer; ">` + results[i].name + `</p>
                            </div>
                        `
                        // var catelist = `<p class="listdata" style="cursor: pointer;" onclick="movetocate(` + i + `)">` + results[i].name + `</p>`
                        $("#masalacateformobile").append(catelist);
                    }
                }
            })

        // mobile submenu

        document.addEventListener("DOMContentLoaded", function() {
            // make it as accordion for smaller screens
            if (window.innerWidth < 992) {

                // close all inner dropdowns when parent is closed
                document.querySelectorAll('.navbar .dropdown').forEach(function(everydropdown) {
                    everydropdown.addEventListener('hidden.bs.dropdown', function() {
                        // after dropdown is hidden, then find all submenus
                        this.querySelectorAll('.submenu').forEach(function(everysubmenu) {
                            // hide every submenu as well
                            everysubmenu.style.display = 'none';
                        });
                    })
                });

                document.querySelectorAll('.dropdown-menu a').forEach(function(element) {
                    element.addEventListener('click', function(e) {
                        let nextEl = this.nextElementSibling;
                        if (nextEl && nextEl.classList.contains('submenu')) {
                            // prevent opening link if link needs to open dropdown
                            e.preventDefault();
                            if (nextEl.style.display == 'block') {
                                nextEl.style.display = 'none';
                            } else {
                                nextEl.style.display = 'block';
                            }

                        }
                    });
                })
            }
            // end if innerWidth
        });

        //


        function checkdata(i) {
            // alert(i)
            var title = JSON.stringify(mainData[i].name)
            var newTitle = JSON.parse(title).split(" ").join("")
            var id = mainData[i].id
            // window.location.replace(`./products.php` + `?name=${newTitle}`);

            // alert(id)
            localStorage.setItem("cateid", id);
            window.location = (`./products.php` + `?name=${newTitle}`);
        }

        if (localStorage.getItem("user_id")) {
            document.getElementById("profile").href = "./Profile.php"
            document.getElementById("profile").innerHTML = "Profile"
            document.getElementById("profilenew").href = "./Profile.php"
            document.getElementById("profilenew").innerHTML = "Profile"
            const urldetails = apiurl + "user/fetchUserDetailsById";
            let formDataurldetails = new FormData();
            formDataurldetails.append("userid", localStorage.getItem("user_id"));
            axios.post(urldetails, formDataurldetails)
                .then(res => {
                    // alert(JSON.stringify(res))
                    usernavname = res.data[0].name;
                    usernavphone = res.data[0].phone;
                    usernavemail = res.data[0].email;
                    document.getElementById("usernavname").innerHTML = usernavname;
                })
            localStorage.setItem("phonenumber", usernavphone)
        } else {
            document.getElementById("profile").href = "./login.html"
            document.getElementById("profile").innerHTML = "Login"

            document.getElementById("profilenew").href = "./login.html"
            document.getElementById("profilenew").innerHTML = "Login"

            // document.getElementById("profiledesktop").href = "./login.html"
            // document.getElementById("profiledesktop").innerHTML = "Login"
            // fetchUserDetailsById
        }

        function move() {
            window.location = ('./Custom_Masala.php')
        }

        function movetocate(i) {
            // alert(1)
            // localStorage.setItem("cateid", mainData[i].id);
            var title = JSON.stringify(mainData[i].name)
            var newTitle = JSON.parse(title).split(" ").join("")
            var id = mainData[i].id
            // window.location.replace(`./products.php` + `?name=${newTitle}`);

            // alert(id)
            localStorage.setItem("cateid", id);
            window.location = (`./products.php` + `?name=${newTitle}`);
        }

        function movetocate1() {
            // localStorage.setItem("cateid", id);
            // alert(json.stringify(id))
            localStorage.setItem("cateid", "clear")
            window.location = ("./products.php")
        }

        function movetocart() {
            window.location = ('./cart.php');
            // let userid = localStorage.getItem("user_id")
            // if(userid == null){
            //     alert("Please login!")
            // }
            // else{
            //     window.location = ('./cart.php');   
            // }
        }

        //fetch cart count 
        if (localStorage.getItem("user_id")) {
            const urlcount = apiurl + "user/displayCartCount";
            let formData1 = new FormData();
            formData1.append("userid", localStorage.getItem("user_id"));
            axios.post(urlcount, formData1)
                .then(res => {
                    console.log(res)
                    // window.location.reload(true)
                    // alert(JSON.stringify(res.data))
                    // $("#cartCount").appen(res.data)
                    document.getElementById("cartCount").innerHTML = res.data
                    document.getElementById("cartCountOne").innerHTML = res.data
                })
        } else {
            var a = JSON.parse(localStorage.getItem('session'));
            var cc1 = JSON.parse(localStorage.getItem('sessionthree'));
            var cc2 = JSON.parse(localStorage.getItem('sessiontwo'));

            var prodCount = 0;
            var myomCount = 0;
            var masalaCount = 0;

            var x = 0
            var y = 0
            var z = 0
            if (a != null || cc1 != null || cc2 != null) {
                //first fetching product cart data
                const url15 = apiurl + "user/getStoredData";
                const url20 = apiurl + "user/fetchAllCustomizeCart";

                axios.get(url15)
                    .then(res => {
                        var results = res.data;
                        if (results.length > 0) {
                            var count1 = 0;
                            for (var j = 0; j < a.length; j++) {
                                for (var i = 0; i < results.length; i++) {
                                    if (Number(a[j].id) === Number(results[i].product_id) && Number(a[j].sizeid) == Number(results[i].qty_id)) {
                                        x++;
                                        break; // Exit the inner loop once a match is found
                                    }
                                }
                            }
                            document.getElementById("cartCount").innerHTML = x + y + z;
                            document.getElementById("cartCountOne").innerHTML = x + y + z;
                        }
                    });

                axios.get(url20)
                    .then(res => {
                        var results = res.data;
                        if (results.length > 0) {
                            var count = 0;
                            for (var j = 0; j < cc1.length; j++) {
                                for (var i = 0; i < results.length; i++) {
                                    if (Number(cc1[j]) == results[i].masalaid) {
                                        y++;
                                        break; // Exit the inner loop once a match is found
                                    }
                                }
                            }
                            document.getElementById("cartCount").innerHTML = x + y + z;
                            document.getElementById("cartCountOne").innerHTML = x + y + z;
                        }
                    });

                axios.get(url20)
                    .then(res => {
                        var results = res.data;
                        if (results.length > 0) {
                            var count = 0;
                            for (var j = 0; j < cc2.length; j++) {
                                for (var i = 0; i < results.length; i++) {
                                    if (Number(cc2[j]) == results[i].masalaid) {
                                        z++;
                                        break; // Exit the inner loop once a match is found
                                    }
                                }
                            }
                            document.getElementById("cartCount").innerHTML = x + y + z;
                            document.getElementById("cartCountOne").innerHTML = x + y + z;
                        }
                    });

                // If none of the conditions above match, set the cart count based on the existing values of x, y, and z
                document.getElementById("cartCount").innerHTML = x + y + z;
                document.getElementById("cartCountOne").innerHTML = x + y + z;
            } else {
                document.getElementById("cartCount").innerHTML = x + y + z;
                document.getElementById("cartCountOne").innerHTML = x + y + z;
            }
        }
    </script>


    

<style>
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ffffff;
    /* -webkit-transition: .4s; */
    /* transition: .4s; */
  }

  .slider1 {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ffffff;
    /* -webkit-transition: .4s; */
    /* transition: .4s; */
  }

  .slider:before {
    position: absolute;
    content: "";
    height: 13px;
    width: 13px;
    left: 0px;
    bottom: 0px;
    background-color: #DC9C13;
    /* -webkit-transition: .4s;
  transition: .4s; */
  }

  .slider1:before {
    position: absolute;
    content: "";
    height: 13px;
    width: 13px;
    left: 0px;
    bottom: 0px;
    background-color: #9C3C1A;
    /* -webkit-transition: .4s;
  transition: .4s; */
  }

  input:checked+.slider {
    background-color: #ffffff;
  }

  input:focus+.slider {
    box-shadow: 0 0 5px #ffffff;
  }

  input:checked+.slider:before {
    -webkit-transform: translateX(16px);
    -ms-transform: translateX(16px);
    transform: translateX(16px);
  }

  input:checked+.slider1:before {
    -webkit-transform: translateX(16px);
    -ms-transform: translateX(16px);
    transform: translateX(16px);
  }

  /* Rounded sliders */
  .slider.round {
    border-radius: 35px;
    border: 1px solid #DC9C13;
  }

  .slider1.round {
    border-radius: 35px;
    border: 1px solid #9C3C1A;
  }

  .slider.round:before {
    border-radius: 50%;
  }

  .slider1.round:before {
    border-radius: 50%;
  }

  .addtocart {
    background-color: #425D27;
    color: white;
    border: none;
    border-radius: 5px;
    padding-left: 100px;
    padding-right: 100px;
  }

  .scroll {
    overflow: scroll;
    height: 72%;
    /* width:100%; */
  }

  .scroll2 {
    overflow: scroll;
    height: 60%;
    width: 100%;
  }

  ::-webkit-scrollbar {
    width: 5px;
  }

  /* ::-webkit-scrollbar-track
{
border: 2px solid #EFE6DD;

} */

  ::-webkit-scrollbar-thumb {
    background: #425D27;
    border-radius: 5px;
  }

  ::-webkit-scrollbar-thumb {
    /* background: #425D27; */
    border-radius: 5px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: #EFE6DD;
    /* border: 2px solid #EFE6DD; */
  }

  /*mobile responsiveness*/
  @media only screen and (min-width: 100px) and (max-width: 1300px) {
    .deleteclass {
      margin-left: 0px;
    }

    .editclass {
      margin-left: -16px;
    }

    .cartpage {
      margin-left: 3px !important;
      width: 330px !important;
    }

    .mobilescr {
      width: 112% !important;
    }

    .mobcs {
      width: 116px !important;
    }
  }

  @media (min-width: 400px) {
    .cartpage {
      /* margin-left: 63px !important; */
      width: 382px !important;
    }
  }

  .mobcs {
    width: 380px;
  }
</style>



<h1 class="pl-4 mt-4" style="color: #593825;font-size:25px;font-weight:600;margin-left:-10px">Cart Information</h1>

<div class="col-md-12 row">
  <div class="col-md-6">
    <p style="color: #593825;font-weight:600">All Items</p>
    <div class="scroll mr-0 mb-4 mobilescr" style="border: 1px solid #D5D5D5;border-radius: 5px;" id="cartlist">


    </div>
  </div>

  <div class="col-md-5">
    <p style="color: #593825; margin-left: 30px;font-weight:600">Cart Summary</p>
    <div class="cartpage" style="border: 1px solid #D5D5D5;border-radius: 5px;width: 410px;margin-left: 30px;padding-left: 20px;padding-right: 20px;margin-bottom:20px;">
      <p class="mt-3" style="color: #593825;font-weight:600">Delivery Address</p>
      
      <!-- user name -->
      
      <div class="d-flex" style="justify-content: space-between;">
      <div class="d-flex">
      <i class="fa-solid fa-user" style="color: #425D27;padding-right: 10px;padding-top: 5px;"></i>
        <div id="usernamedate" style="color: #985F3F;font-size: small;padding-right: 10px;padding-top: 2px;font-style:italic "><i>User name not updated</i></div>
        
      </div>  
      <button id="usenameupdatebth" class="px-3" style="margin-top: -5px;height:40px;background-color: #985F3F;color: white;border: none;border-radius: 20px;font-size: small;cursor:pointer;" onclick="moveto()">Click Here</button>
      </div>
      <br>
      
      <div class="d-flex" style="justify-content: space-between;">
        <i class="fa-solid fa-location-dot" style="color: #425D27;padding-right: 10px;padding-top: 5px;"></i>
        <a style="color: #985F3F;font-size: small;padding-right: 10px;" id="addressid"> </a>
        <button class="px-4" style="height:40px;background-color: #985F3F;color: white;border: none;border-radius: 20px;font-size: small;cursor:pointer;" id="addresschange" onclick="moveto()">Add</button>
        <!--<button class="" style="background-color: #985F3F;color: white;border: none;border-radius: 20px;font-size: small;cursor:pointer;" id="addresschange" onclick="moveto()">Change</button>-->
      </div><br>
      <a style="color: #593825;font-weight:600;">Apply Coupon</a><br>
      <input id="additem" type="text" placeholder="Enter Coupon Code" style="border-color: #D9D9D9;margin-top:10px;margin-bottom:10px; width: 245px;">
      <button style="background-color: #985F3F;color: white;cursor:pointer;" onclick="checkCoupon()">Apply Coupon</button>
      <div id="error" style="color:red;font-size:12px;"></div>
      <div id="item" style="display: none;">
        <div class="d-flex justify-content-between pt-1 px-1" style="background-color: #985F3F;color: white;">
          <!-- <input type="text"> -->
          <p id="couponcode"></p>
          <a onclick="removeCoupon()" style="cursor:pointer">
            <p>Remove</p>
          </a>
        </div>
      </div>

      <p class="mt-3" style="color: #593825;font-weight:600">Item Summary</p>
      <div class="d-flex justify-content-between">
        <p style="color: #593825;font-size: small;font-weight:600">Sub Total </p><span id="subtotal"></span>
      </div>
      <div class="d-flex justify-content-between">
        <!--<p style="color: #593825; font-size: small;font-weight:600">Discount</p>-->
        <span id="Discount" style="display: none"></span>
      </div>
      
      <!--<div>-->
          
      <!--    <div class="d-flex justify-content-between">-->
      <!--  <p style="color: #593825;font-size: small;font-weight:600">CGST<span id="totalgstper" style="color: white"></span></p>-->
      <!--  <span id="cgst"></span>-->
      <!--</div>-->
      <!--<div class="d-flex justify-content-between">-->
      <!--  <p style="color: #593825;font-size: small;font-weight:600">SGST</p>-->
      <!--  <span id="sgst"></span>-->
      <!--</div>-->
          
          
          
          
      <!--</div>-->
      
      <div class="normGst" style="display: none;">
        <div class="d-flex justify-content-between">
          <p style="color: #593825;font-size: small;font-weight:600">CGST<span id="totalgstper" style="color: white"></span></p>
          <span id="cgst"></span>
        </div>
        <div class="d-flex justify-content-between">
          <p style="color: #593825;font-size: small;font-weight:600">SGST</p>
          <span id="sgst"></span>
        </div>
      </div>

      <div class="normIgst" style="display: none;">
        <div class="d-flex justify-content-between">
          <p style="color: #593825;font-size: small;font-weight:600">IGST<span id="totalgstper" style="color: white"></span></p>
          <span id="igst"></span>
        </div>
      </div>

      
      <div class="d-flex justify-content-between">
        <p style="color: #593825;font-size: small;font-weight:600">Shipping Charges</p>
        <!--<span id="shipcharge"></span>-->
        <span id="shipchargechanges"></span>
      </div>

      <hr>
      <div class="d-flex justify-content-between">
        <p style="color: #593825;">Grand Total</p>
        <span id="grandTotal"></span>
      </div>

      <button onclick="checkCouponCode()" class="py-2 ml-4 mb-3" style="background-color: #425D27;color: white; border: none;border-radius: 20px;padding-left: 100px;padding-right: 100px;font-size: small;cursor:pointer;">Checkout
        &amp; Pay </button>

    </div>

  </div>

   
</div>


<script src="./js/utils.js"></script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script><iframe height="0" width="0" style="display: none; visibility: hidden;"></iframe><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/17159695972/?random=1768209745426&amp;cv=11&amp;fst=1768209745426&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;en=gtag.config&amp;gtm=45je6171v9222161452za200zd9222161452xec&amp;gcd=13l3l3l3l1l1&amp;dma=0&amp;tag_exp=103116026~103200004~104527907~104528501~104684208~104684211~105391252~115938466~115938468~116184924~116184926~116514482&amp;u_w=1440&amp;u_h=900&amp;url=https%3A%2F%2Fgirani.in%2Fcart.php&amp;ref=https%3A%2F%2Fgirani.in%2Fcart.php&amp;frm=0&amp;tiba=Cart%20Information%20%26%20Checkout%20%7C%20Girani&amp;hn=www.googleadservices.com&amp;npa=0&amp;pscdl=noapi&amp;auid=214586793.1768209695&amp;uaa=x86&amp;uab=64&amp;uafvl=Chromium%3B143.0.7499.4%7CNot%2520A(Brand%3B24.0.0.0&amp;uamb=0&amp;uam=&amp;uap=macOS&amp;uapv=10_15_7&amp;uaw=0&amp;data=event%3Dgtag.config&amp;rfmt=3&amp;fmt=4"></script><div class="razorpay-container" style="z-index: 2147483647; position: fixed; top: 0px; display: none; left: 0px; height: 100%; width: 100%; max-height: 100dvh; backface-visibility: hidden; overflow-y: visible;"><style>@keyframes rzp-rot{to{transform: rotate(360deg);}}@-webkit-keyframes rzp-rot{to{-webkit-transform: rotate(360deg);}} .razorpay-container > iframe {min-height: 100%!important;}</style><div class="razorpay-backdrop" style="min-height: 100%; transition: 0.3s ease-out; position: fixed; top: 0px; left: 0px; width: 100%; height: 100%;"><span style="text-decoration: none; background: rgb(214, 68, 68); border: 1px dashed white; padding: 3px; opacity: 0; transform: rotate(45deg); transition: opacity 0.3s ease-in; font-family: lato, ubuntu, helvetica, sans-serif; color: white; position: absolute; width: 200px; text-align: center; right: -50px; top: 50px;">Test Mode</span></div><iframe allowtransparency="true" frameborder="0" width="100%" height="100%" src="https://api.razorpay.com/v1/checkout/public?traffic_env=production&amp;build=fab543dae51568f4cca5fe11bade6960c8428ec6&amp;build_v1=ad4a7bf67b89ee0057f24e794a8a4696fe205bab&amp;checkout_v2=1&amp;new_session=1&amp;rzp_device_id=1.e07f56afcc25b98a9f00a2638c4fc6be3de6844f.1768209743385.84346411&amp;unified_session_id=S2urKmrfNmhHxT" class="razorpay-checkout-frame" allow="otp-credentials; payment; clipboard-write; publickey-credentials-get https://api.razorpay.com; publickey-credentials-create 'self' https://api.razorpay.com; web-share; camera *" style="opacity: 1; height: 100%; position: relative; background: none; display: block; border: 0px none transparent; margin: 0px; padding: 0px; z-index: 2;"></iframe></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<script src="./js/axios.js"></script>
<script>
  var apiurl = API_LINK;
  const apiurlval = apiurl
  const imageurl = IMAGE_LINK;
  let formData = new FormData();
  var cartCount = 0;
  var cartValue = [];
  var cartValueBeforeLogin = [];
  
  var finalSubTotal = 0;

  var customizedCartCount = 0;

  var customizedCartCountbeforelogin = 0;
  var myombeforelogin = 0;

  var customizedCartValue = [];
  var customizedSubTotal = 0;

  //razorpay order id variable
  var raz_orderid = 0

  var discount_amount = 0;
  
  var userpincode = 0;

  var username = '';
  var userphone = '';
  const url = apiurl + "user/fetchCartDetails";
  const url2 = apiurl + "user/fetchUserDefaultAddress";
  const url5 = apiurl + "user/fetchToCustomizeCart";
  const url4 = apiurl + "user/fetchUserDetailsById";

  const url15 = apiurl + "user/getStoredData";

  const url20 = apiurl + "user/fetchAllCustomizeCart";

  //////product start

  var id = localStorage.getItem("user_id")
  var a = JSON.parse(localStorage.getItem('session'));
  var b = localStorage.getItem('sessiontwo');
  
  document.addEventListener('contextmenu', event => event.preventDefault());


  window.onload = function() {

    if (!localStorage.justOnce) {
      localStorage.setItem("justOnce", "true");
      window.location.reload(true);
    }
  }

  if (localStorage.getItem("user_id")) {
   
    var cc = JSON.parse(localStorage.getItem('sessiontwo'))
    var ccc = localStorage.getItem('sessionthree')

    if(cc != null){
      var tempStaticone = [];
      for (var i = 0; i < cc.length; i++) {
        tempStaticone.push(cc[i].masalaid)
      }
      let formdatanewone = new FormData();
      formdatanewone.append("user_id", localStorage.getItem("user_id"))
      formdatanewone.append("tempStaticone", cc)
      const url18 = apiurl + "user/chengeMasalaCart";
      axios.post(url18, formdatanewone)
        .then(res => {
          
        })

    }

    if(ccc != null){
      console.log(ccc, 'dsdwq')
      let formdatanewone1 = new FormData();
      formdatanewone1.append("user_id", localStorage.getItem("user_id"))
      formdatanewone1.append("ccc",JSON.parse(ccc))
      const url18 = apiurl + "user/changeCustomizedCart";
      axios.post(url18, formdatanewone1)
        .then(res => {
          // alert(JSON.stringify(res))
          console.log(res, 'lll')
        })

      // alert(ccc)
      // var tempStatictwo = [];
      // for (var i = 0; i < ccc.length; i++) {
      //   tempStatictwo.push(ccc[i])
      //   // alert(tempStatictwo)
      // }
      // alert(localStorage.getItem('sessionthree'))
      // let formdatacheck = new FormData();
      // formdatacheck.append("user_id", localStorage.getItem("user_id"))
      // formdatacheck.append("tempStatictwo", ccc)
      // const url19 = apiurl + "user/changeCustomizedCart";
      // axios.post(url19, formdatacheck)
      //   .then(res => {
      //       alert(JSON.stringify(res))
      //   })
    }
    

    let formData5 = new FormData();
      formData5.append("userid", id);
      axios.post(url5, formData5)
        .then(res => {
          // alert(JSON.stringify(res))
          var results = res.data;
            customizedCartCount = results;
          for (var i = 0; i < results.length; i++) {
            var data = `<div class="d-flex mr-2 pl-1 pt-2">
              <img
                style="width: 70px; height: 70px;border: 1px solid #D5D5D5;border-radius: 5px;padding: 5px;margin-right: 10px;"
                src='./Assets/images/Sambar-Powder-800-800.png' alt="">
              <div class="row " style="width:480px">
              <div class="col-md-8">  <a style="color: #593825;">` + results[i].masala_name + `</a></div>
              <div class="col-md-4 editclass" style="text-align:right;"> <a onclick="movetoEdit(` + results[i].masalaid + `,` + results[i].id + `)"style="text-decoration-line: underline;cursor:pointer;">edit</a>
              <i class="fa fa-trash deleteclass"style="margin-top:7px" onclick="deleteCart(` + results[i].id + `)"></i>
              <div style="text-decoration-line: underline; cursor:pointer;"  onclick="addwish(` + i + `)">Save Masala</div>
              </div>
            
            </div>
            <hr class="m-2">`
            $("#cartlist").append(data);

          }
          calculateCart();
        })


  } else {

    var cc1 = JSON.parse(localStorage.getItem('sessionthree'))
    var cc2 = JSON.parse(localStorage.getItem('sessiontwo'))
    axios.get(url20)
    .then(res => {
      var results = res.data
      customizedCartCountbeforelogin = results;
      if(results.length > 0){
        
        for(var j = 0; j< cc1.length; j++){
          for (var i = 0; i < results.length; i++) {
            if(Number(cc1[j]) == results[i].masalaid){
              var data = `
                <div class="d-flex mr-2 pl-1 pt-2">
                <img style="width: 70px; height: 70px;border: 1px solid #D5D5D5;border-radius: 5px;padding: 5px;margin-right: 10px;"
                    src='./Assets/images/Sambar-Powder-800-800.png' alt="">
                  <div class="row " style="width:480px">
                    <div class="col-md-8">  <a style="color: #593825;">` + results[i].masala_name + `</a></div>
                  </div>
                  <div class="col-md-4 editclass" style="text-align:right;"> <a onclick="movetoEdit(` + results[i].masalaid + `,` + results[i].id + `)"style="text-decoration-line: underline;cursor:pointer;">edit</a>
                  <i class="fa fa-trash deleteclass"style="margin-top:7px" onclick="deleteCart(` + results[i].id + `)"></i>
                  <div style="text-decoration-line: underline; cursor:pointer;"  onclick="addwish(` + i + `)">Save Masala</div>
              </div>
                </div>
                
                <hr class="m-2">`
            }
            
          }
          $("#cartlist").append(data);
        }
      }
      calculateBeforeLogin()
    })

    axios.get(url20)
    .then(res => {
      var results = res.data
      myombeforelogin = results;
      
      if(results.length > 0){

        for(var j = 0; j< cc2.length; j++){
          for (var i = 0; i < results.length; i++) {
            if(Number(cc2[j]) == results[i].masalaid){
              var data = `
              <div class="d-flex mr-2 pl-1 pt-2">
                <img style="width: 70px; height: 70px;border: 1px solid #D5D5D5;border-radius: 5px;padding: 5px;margin-right: 10px;"
                  src='./Assets/images/Sambar-Powder-800-800.png' alt="">
                  <div class="row " style="width:480px">
                    <div class="col-md-8">  <a style="color: #593825;">` + results[i].masala_name + `</a></div>
                    <div class="col-md-4 editclass" style="text-align:right;"> 
                      <a onclick="movetoEdit(` + results[i].masalaid + `,` + results[i].id + `)"style="text-decoration-line: underline;cursor:pointer;">edit</a>
                      <i class="fa fa-trash deleteclass"style="margin-top:7px" onclick="deleteCart(` + results[i].id + `)"></i>    
                      <div style="text-decoration-line: underline; cursor:pointer;"  onclick="addwish(` + i + `)">Save Masala</div>
                      </div>

                </div>
              `
            }
          }
          $("#cartlist").append(data);
        }
        // calculateCart();
        
      }
      // calculateCart();
      calculateBeforeLogin()
    })
  }

  let formData4 = new FormData();

  formData4.append("userid", id);
  axios.post(url4, formData4)
    .then(res => {
      console.log(res.data)
      username = res.data[0].name;
      userphone = res.data[0].phone;
      if(res.data[0].name == null || res.data[0].name == 'null' || res.data[0].name == "" || res.data[0].name == ''){
        document.getElementById("usernamedate").innerHTML = "User name not updated";
      }
      else{
        document.getElementById("usernamedate").innerHTML = res.data[0].name;
        document.getElementById("usenameupdatebth").style.display = "none";

      }
    })
  var address_id = 0;
  var id = localStorage.getItem("user_id")
  let formData2 = new FormData();

  formData2.append("user_id", id);
  axios.post(url2, formData2)
    .then(res => {
      var results = res.data;
      if (results.length == 0) {
        address_id = 0
        document.getElementById("addresschange").innerHTML = "Add"
      } else {
        address_id = results[0].id
        userpincode = results[0].pincode;
        
        var addressList = results[0].door_no + ' , ' + results[0].landmark + ' , ' + results[0].address;
        document.getElementById("addressid").innerHTML = addressList;
        
        // Check if pincode starts with "56"
        if (userpincode.startsWith("56")) {
          document.querySelector(".normGst").style.display = "block";
          document.querySelector(".normIgst").style.display = "none";
        } else {
          document.querySelector(".normGst").style.display = "none";
          document.querySelector(".normIgst").style.display = "block";
        }
      }
    })

  function moveto() {
    if (localStorage.getItem("user_id")) {
      window.location = ('Profile.php')
    }
    else {
      alert("you have not logged in please login")
      window.location = ("./Signin.html")
    }
  }

  function incrementCart(id) {
    // if (localStorage.getItem("user_id")) {
      // add to cart
      // var id = localStorage.getItem("proid")
      let formData = new FormData();
      formData.append("id", id);
      const url = apiurl + "user/incrementCartbyId";
      axios.post(url, formData)
        .then(res => {
          var results = res.data;
          window.location = ("cart.php")
        })

    // } else {
    //   alert("you have not logged in please login")
    //   window.location = ("./login.html")
    // }

  }


  function addwish(id) {
    if (localStorage.getItem("user_id")) {
      var userid = customizedCartCount[id].userid;
      var masalaid = customizedCartCount[id].masalaid;
      var masalaname = customizedCartCount[id].masala_name;
      var datalist = JSON.stringify(JSON.parse(customizedCartCount[id].custumized_list))

      let formdata = new FormData();
      formdata.append("userid", userid)
      formdata.append("masalaid", masalaid)
      formdata.append("masalaname", masalaname)
      formdata.append("datalist", datalist)
      const url12 = apiurl + "user/addMasalaToWishlist";

      axios.post(url12, formdata)
        .then(res => {
          console.log(res)
          window.location = ('./Wishlist.php')
        })

    } else {
      alert("you have not logged in please login")
      window.location = ("./login.html")
    }
  }

  function deleteCart(id) {
    let formData = new FormData();
    formData.append("id", id);
    const url = apiurl + "user/deleteCUstomizedCart";
    axios.post(url, formData)
      .then(res => {
        var results = res.data;
        window.location = ("cart.php")
      })

  }

  function deleteProductCart(id) {
    let formData = new FormData();
    formData.append("id", id);
    const url = apiurl + "user/deleteProductCart";
    axios.post(url, formData)
      .then(res => {
        var results = res.data;
        window.location = ("cart.php")
      })

  }

function deleteProductCartbeforelogin(id, qtyid, prodid) {
    let formData = new FormData();
    formData.append("id", id);
    formData.append("qtyid", qtyid);
    const url = apiurl + "user/deleteProductCart";
    axios.post(url, formData)
      .then(res => {
        var results = res.data;
        deleteLocalData(prodid, qtyid)
        
      })
      calculateBeforeLogin();
  
      
  }
  
  function deleteLocalData(id, qtyid) {
    // alert(id)
    // alert(qtyid)
    var a = JSON.parse(localStorage.getItem('session'))
      for(var i = 0; i < a.length; i++) {
        if(Number(a[i].id) === Number(id) && Number(a[i].sizeid) == Number(qtyid)) {
        //   alert("match")
            a.splice(i, 1);
            
            // break;
        }
        else{
        //   alert("Not match")
        }
      }
      localStorage.setItem('session', JSON.stringify(a));
      // alert(JSON.stringify(a))
    window.location = ("cart.php")
  }


  var gst = 0;
  var customized_gst = 0;
  var customized_grandTotal = 0;
  var Discount = 0;
  var subtotal = 0;
  var grandTotal = 0;
  var finalPrice = 0;
  var gst_final = 0;
  var couponid = 0;
  var newPrice = 0;

    var fixedDiscount = 0;

  var finalGrandTot = 0;

  function removeCoupon() {
    // removeCoupon
    document.getElementById('error').innerHTML = "";
    document.getElementById("item").style.display = "none";
    document.getElementById("couponcode").innerHTML = ""
    Discount = 0;
    couponid = 0;
    discount_amount = 0;
    calculateCart()
  }


  function calculateBeforeLogin(){
    
    var a = JSON.parse(localStorage.getItem('session'));
    var cc1 = JSON.parse(localStorage.getItem('sessionthree'));
    var cc2 = JSON.parse(localStorage.getItem('sessiontwo'));
    
    console.log(cartValueBeforeLogin)
    var subtotalnew = 0;
    var subnew = 0;
    var customizedSubTotalnew = 0;
    var gstnew = 0;
    var newSubTotVal = 0;

    if(a != null){
      for(var j = 0; j< a.length; j++){
        for (var i = 0; i < cartValueBeforeLogin.length; i++) {
          if(Number(a[j].id) === Number(cartValueBeforeLogin[i].product_id) && Number(a[j].sizeid) == Number(cartValueBeforeLogin[i].qty_id)){
            if(cartValueBeforeLogin[i].sizeDetails.length > 0){
              if (cartValueBeforeLogin[i].sizeDetails[0].discount_price == 0) {
                subtotalnew = (parseFloat(cartValueBeforeLogin[i].sizeDetails[0].price) * parseFloat(cartValueBeforeLogin[i].qty)) 
              } else {
                subtotalnew = ((parseFloat(cartValueBeforeLogin[i].sizeDetails[0].discount_price) - (parseFloat(cartValueBeforeLogin[i].sizeDetails[0].discount_price) * parseFloat(cartValueBeforeLogin[i].sizeDetails[0].gst / 100))) * parseFloat(cartValueBeforeLogin[i].qty))
                //   gst = (Number(cartValue[i].sizeDetails[0].gst) * parseFloat(subtotal)) / 100 
              }
            }
            else {
              // ?removefromcart function
              let formData = new FormData();
              formData.append("id", cartValue[i].id);
              const url = apiurl + "user/deleteFromCartById";
              axios.post(url, formData)
                .then(res => {
                  var results = res.data;
                  window.location = ("cart.php")
                })
            }
          }
          
        }
        newSubTotVal = newSubTotVal + subtotalnew
      }
      //gst for products
      var tempnew = [];
      var temp1new = [];
      var temp2new = []
      var subTotnew = 0
      // alert(JSON.stringify(cartValueBeforeLogin))
      for(var j = 0; j< a.length; j++){

        for (var i = 0; i < cartValueBeforeLogin.length; i++) {
          if(Number(a[j].id) === Number(cartValueBeforeLogin[i].product_id) && Number(a[j].sizeid) == Number(cartValueBeforeLogin[i].qty_id)){
            // alert(cartValueBeforeLogin[i].sizeDetails[0].gst)
            var jstnew = ((Number(cartValueBeforeLogin[i].sizeDetails[0].gst) * (parseFloat(cartValueBeforeLogin[i].sizeDetails[0].discount_price))) / 100) * parseFloat(cartValueBeforeLogin[i].qty)
            var dmynew = (Number(cartValueBeforeLogin[i].sizeDetails[0].gst))
            var statnew = (Number(cartValueBeforeLogin[i].sizeDetails[0].discount_price))
          }
        }
        // alert(jstnew)
        if(jstnew == undefined){
          jstnew = 0 
          
        }
        else{
          jstnew = jstnew
          
        }
        temp2new.push(statnew)
        tempnew.push(jstnew)
        temp1new.push(dmynew)
      }
      // alert(tempnew)
      var gstpercountnew = temp1new.reduce((partialSum, a) => partialSum + a, 0);
      gstnew = tempnew.reduce((partialSum, a) => partialSum + a, 0);
    }
    
    //====================

    //now masala calculation
    var cust_subtotnew = 0;
    var steptwonew = 0;
    var customizedSubTotalvalnew = 0;
    var steponenew = 0;
    if(cc1 != null){
      for(var j = 0; j< cc1.length; j++){
        for (var t = 0; t < customizedCartCountbeforelogin.length; t++) {
          if(Number(cc1[j]) == customizedCartCountbeforelogin[t].masalaid){
            var masallistnew = customizedCartCountbeforelogin[t].masalaData;
            for (var y = 0; y < masallistnew.length; y++) {
              
              if (masallistnew[y].details[0].roasted == 1) {
                customizedSubTotalvalnew = parseFloat(masallistnew[y].details[0].price + masallistnew[y].details[0].margin_cost + masallistnew[y].details[0].processing_cost) * parseFloat(masallistnew[y].details[0].qty)  + parseFloat(customizedSubTotalvalnew)
                steponenew = masallistnew[y].details[0].gst_value * masallistnew[y].details[0].qty + parseFloat(steponenew)
              } else {
                customizedSubTotalvalnew = parseFloat(masallistnew[y].details[0].price + masallistnew[y].details[0].margin_cost + masallistnew[y].details[0].processin_unroasted) * parseFloat(masallistnew[y].details[0].qty)  + parseFloat(customizedSubTotalvalnew)
                steponenew = masallistnew[y].details[0].gst_value_ur * masallistnew[y].details[0].qty + parseFloat(steponenew)
              }
            }
          }
        }
      }
    }

    //=================================

    //now MYOM calculations
    var cust_subtotnewone = 0;
    var steptwonewone = 0;
    var customizedSubTotalvalnewone = 0;
    var steponenewone = 0;
    
    
    if(cc2 != null){
      for(var j = 0; j< cc2.length; j++){
        for (var t = 0; t < myombeforelogin.length; t++) {
          if(cc2[j] == Number(myombeforelogin[t].masalaid)){
            var masallistnewone = myombeforelogin[t].masalaData;
            for (var y = 0; y < masallistnewone.length; y++) {
              
              if (masallistnewone[y].details[0].roasted == 1) {
                customizedSubTotalvalnewone = parseFloat(masallistnewone[y].details[0].price + masallistnewone[y].details[0].margin_cost + masallistnewone[y].details[0].processing_cost) * parseFloat(masallistnewone[y].details[0].qty)  + parseFloat(customizedSubTotalvalnewone)
                steptwonewone = masallistnewone[y].details[0].gst_value * masallistnewone[y].details[0].qty + parseFloat(steptwonewone)
              } else {
                customizedSubTotalvalnewone = parseFloat(masallistnewone[y].details[0].price + masallistnewone[y].details[0].margin_cost + masallistnewone[y].details[0].processin_unroasted) * parseFloat(masallistnewone[y].details[0].qty)  + parseFloat(customizedSubTotalvalnewone)
                steptwonewone = masallistnewone[y].details[0].gst_value_ur * masallistnewone[y].details[0].qty + parseFloat(steptwonewone)
              }
            }
          }
        }
      }
    }
    
    if( isNaN(gstnew)){
      gstnew = 0
    }
    else{
      gstnew = gstnew
    }

    //variables list
    gst_final = parseFloat(gstnew) + parseFloat(steponenew) + steptwonewone
    grandTotal = (newSubTotVal)

    finalPrice = parseFloat(grandTotal) + customizedSubTotalvalnew + customizedSubTotalvalnewone
    var checked = gstnew + finalPrice + parseFloat(steponenew) + parseFloat(steptwonewone);
    finalGrandTot = checked

    var amounttocal = checked.toFixed(2)
    // console.log(amounttocal)
    document.getElementById("subtotal").innerHTML = '₹' + finalPrice.toFixed(2)
    document.getElementById("Discount").innerHTML = '₹' + discount_amount
    document.getElementById("cgst").innerHTML = '₹' + (gst_final.toFixed(2) / 2)
    document.getElementById("sgst").innerHTML = '₹' + (gst_final.toFixed(2) / 2)
    document.getElementById("grandTotal").innerHTML = '₹' + checked.toFixed(2)
    document.getElementById("igst").innerHTML = '₹' + (gst_final.toFixed(2))

  }

  function calculateCart() {
    // console.log(cartValue)
    // console.log(customizedCartCount)
    subtotal = 0
    customizedSubTotal = 0;
    // ----------------------->for products
    console.log(cartValue)

    for (var i = 0; i < cartValue.length; i++) {
      if (cartValue[i].sizeDetails.length > 0) {
        if (cartValue[i].sizeDetails[0].discount_price == 0) {
          subtotal = (parseFloat(cartValue[i].sizeDetails[0].price) * parseFloat(cartValue[i].qty)) + parseFloat(subtotal)
        } else {
          subtotal = ((parseFloat(cartValue[i].sizeDetails[0].discount_price) - (parseFloat(cartValue[i].sizeDetails[0].discount_price) * parseFloat(cartValue[i].sizeDetails[0].gst / 100))) * parseFloat(cartValue[i].qty)) + parseFloat(subtotal)
          //   gst = (Number(cartValue[i].sizeDetails[0].gst) * parseFloat(subtotal)) / 100 

        }
      } else {
        // ?removefromcart function
        let formData = new FormData();
        formData.append("id", cartValue[i].id);
        const url = apiurl + "user/deleteFromCartById";
        axios.post(url, formData)
          .then(res => {
            var results = res.data;
            window.location = ("cart.php")
          })
      }
    }
    var temp = [];
    var temp1 = [];
    var temp2 = []
    var subTot = 0
    for (var i = 0; i < cartValue.length; i++) {
      var jst = ((Number(cartValue[i].sizeDetails[0].gst) * (parseFloat(cartValue[i].sizeDetails[0].discount_price))) / 100) * parseFloat(cartValue[i].qty)
      var dmy = (Number(cartValue[i].sizeDetails[0].gst))
      var stat = (Number(cartValue[i].sizeDetails[0].discount_price))
      temp2.push(stat)
      temp1.push(dmy)
      temp.push(jst)
    }
    var gstpercount = temp1.reduce((partialSum, a) => partialSum + a, 0);
    gst = temp.reduce((partialSum, a) => partialSum + a, 0);
    // alert(gstpercount)
    // document.getElementById("totalgstper").innerHTML = gstpercount;



    // ------------------------->for customize cart
    console.log(subtotal)

    var cust_subtot = 0;
    var steptwo = 0;
    for (var t = 0; t < customizedCartCount.length; t++) {
      var masallist = customizedCartCount[t].masalaData;
      for (var y = 0; y < masallist.length; y++) {
        // customizedSubTotalval = 0
        customized_gstval = 0

        if (masallist[y].details[0].roasted == 1) {
          var customizedSubTotalval = parseFloat(masallist[y].details[0].price + masallist[y].details[0].margin_cost + masallist[y].details[0].processing_cost) * parseFloat(masallist[y].details[0].qty);
          var stepone = masallist[y].details[0].gst_value * masallist[y].details[0].qty
        } else {
          var customizedSubTotalval = parseFloat(masallist[y].details[0].price + masallist[y].details[0].margin_cost + masallist[y].details[0].processin_unroasted) * parseFloat(masallist[y].details[0].qty);
          var stepone = masallist[y].details[0].gst_value_ur * masallist[y].details[0].qty
        }
        // customized_gstval = parseFloat(masallist[y].details[0].gst_value) * parseFloat(masallist[y].details[0].qty)

        cust_subtot = cust_subtot + customizedSubTotalval;
        steptwo = steptwo + stepone;
      }
    }
    


    // gst = (Number(cartValue[0].sizeDetails[0].gst) * parseFloat(subtotal)) / 100
    gst_final = parseFloat(gst) + parseFloat(steptwo)
    grandTotal = (subtotal) - Discount
    var amounttocal = parseFloat(subtotal - gst) + parseFloat(customizedSubTotal);
    console.log(amounttocal)

    finalPrice = parseFloat(grandTotal + cust_subtot)
    finalSubTotal = finalPrice
    // var checked = gst + finalPrice + steptwo - discount_amount;
        fixedDiscount = finalPrice.toFixed(2)*0;

    
    // fixedDiscount = 0;
    console.log(fixedDiscount, 'geetha discount')
    
    var checked = gst + finalPrice + steptwo - discount_amount - Number(fixedDiscount);

    
    finalGrandTot = checked
    newPrice = gst + finalPrice + steptwo;
    document.getElementById("subtotal").innerHTML = '₹' + finalPrice.toFixed(2);
    document.getElementById("Discount").innerHTML = '₹' + parseFloat(discount_amount+fixedDiscount).toFixed(2)
    // document.getElementById("Discount").innerHTML = '₹' + discount_amount;
    
    // document.getElementById("gst").innerHTML = '₹' + gst_final.toFixed(2)
    document.getElementById("cgst").innerHTML = '₹' + (gst_final.toFixed(2) / 2)
    document.getElementById("sgst").innerHTML = '₹' + (gst_final.toFixed(2) / 2)
    document.getElementById("grandTotal").innerHTML = '₹' + checked.toFixed(2)
    document.getElementById("igst").innerHTML = '₹' + (gst_final.toFixed(2))
    
    // var pinList = 
    //   [
    //       560063, 560030, 560034, 560007, 560092, 560024, 562106, 560045, 560003, 562107, 560047, 560086, 560070, 560064, 560073, 560053, 560050, 560085, 
    //       560043, 562149, 560017, 560001, 560009, 560025, 560083, 560076, 560026, 560004, 560002, 560079, 560103, 560046, 562157, 560010, 560049, 560056, 
    //       560068, 560093, 560018, 560040, 560097, 560061, 562130, 560036, 560029, 560062, 560037, 560071, 562125, 560016, 560100, 560005, 560065, 560019, 
    //       560021, 560022, 560013, 560087, 560008, 560051, 560102, 560027, 560104, 560048, 560094, 560066, 560038, 560078, 560006, 560015, 560041, 560069, 
    //       560011, 560020, 560084, 560096, 560098, 560095, 560077, 560074, 560054, 560023, 560033, 560055, 560099, 560067, 560072, 560039, 560075, 560032, 
    //       560058, 560059, 560080, 560012, 560042, 560028, 560052, 560091, 560060, 560035
    //   ]
    //   var tolerance = 0.001;
    //   console.log(userpincode)
    //   var ddd = parseInt(userpincode, 10);

    //   console.log(ddd, 'dasda');
      
      
    //   let policy; // 'includes' | 'not-includes' | 'out'

    //   if (pinList.includes(ddd)) {
    //     console.log('Bangalore', ddd)
    //       // Pin code found in the list
    //       if (finalPrice.toFixed(2) - tolerance > 1500) {
    //         //   document.getElementById('shipcharge').innerHTML = 0;
    //         document.getElementById('shipchargechanges').innerHTML = 0;
    //         policy = "includes";
    //       } else {
    //         //   alert(77777)
    //         //   calShippingCharges(checked)          
    //         document.getElementById('shipchargechanges').innerHTML = 100;
    //         policy = "not-includes";
    //       }
    //   } else {
    //     //   alert(99999)
    //       console.log('Not Bangalore', ddd)
    //       // Pin code not found in the list
    //     //   calShippingCharges(checked)
    //     policy = "out";
        
    //   }
      
    //           calculateManualShippingCharges(checked, policy);





var pinList = [
    560063, 560030, 560034, 560007, 560092, 560024, 562106, 560045, 560003, 562107, 
    560047, 560086, 560070, 560064, 560073, 560053, 560050, 560085, 560043, 562149, 
    560017, 560001, 560009, 560025, 560083, 560076, 560026, 560004, 560002, 560079, 
    560103, 560046, 562157, 560010, 560049, 560056, 560068, 560093, 560018, 560040, 
    560097, 560061, 562130, 560036, 560029, 560062, 560037, 560071, 562125, 560016, 
    560100, 560005, 560065, 560019, 560021, 560022, 560013, 560087, 560008, 560051, 
    560102, 560027, 560104, 560048, 560094, 560066, 560038, 560078, 560006, 560015, 
    560041, 560069, 560011, 560020, 560084, 560096, 560098, 560095, 560077, 560074, 
    560054, 560023, 560033, 560055, 560099, 560067, 560072, 560039, 560075, 560032, 
    560058, 560059, 560080, 560012, 560042, 560028, 560052, 560091, 560060, 560035
];

var tolerance = 0.001;
console.log(userpincode)
// var userpincode = "560078"; // Example - replace with actual input
var ddd = parseInt(userpincode, 10);

let policy; // 'bangalore-high', 'bangalore-low', 'karnataka', 'outside'

if (pinList.includes(ddd)) {
    console.log('Bangalore', ddd);
    if (finalPrice.toFixed(2) - tolerance >= 1500) {
        policy = "bangalore-high"; // Free shipping
    } else {
        policy = "bangalore-low";  // ₹50 per kg
    }
} else if (ddd.toString().startsWith('56') || 
           ddd.toString().startsWith('57') || 
           ddd.toString().startsWith('58') || 
           ddd.toString().startsWith('59')) {
    console.log('Karnataka (Outside Bangalore)', ddd);
    policy = "karnataka"; // ₹60 per kg
} else {
    console.log('Outside Karnataka', ddd);
    policy = "outside"; // ₹80 per kg
}

calculateManualShippingCharges(checked, policy, finalPrice);



    // calShippingCharges(checked)
    // var tolerance = 0.001;

    // if (finalPrice.toFixed(2) - tolerance > 1000) {
    //     // alert(1);
    //     document.getElementById('shipcharge').innerHTML = 0;
    // } else {
    //     // alert(2);
    //     calShippingCharges(checked)
    //     // call one more function that puts shipping charges as 0
        
    // }
  }
  
  
  
  
  
  function calculateManualShippingCharges(checked, policy, finalPrice) {
    // Build total grams from cart
    var newDataArray = [];
    for (var i = 0; i < cartValue.length; i++) {
        newDataArray.push(
            ...cartValue[i].sizeDetails.map(item => ({
                qty: cartValue[i].qty,
                unit: item.unit,
                totalgrams: item.name,
                final:
                    (item.unit == 'Kg' || item.unit == 'kg' || item.unit == 'l' || item.unit == 'L')
                        ? cartValue[i].qty * 1000 * item.name
                        : (item.unit == 'ml' || item.unit == 'g')
                            ? cartValue[i].qty * item.name
                            : 1
            }))
        );
    }

    for (var t = 0; t < customizedCartCount.length; t++) {
        newDataArray.push(
            ...customizedCartCount[t].masalaData.map(item => ({
                qty: 1,
                unit: 'g',
                totalgrams: item.qty,
                final: item.qty * 1
            }))
        );
    }

    var totalGrams = newDataArray.reduce((acc, it) => acc + parseFloat(it.final), 0);
    var totalWeightInKg = totalGrams / 1000;

    // Round up to next full kg (e.g., 0.1kg → 1kg, 1.01kg → 2kg)
    var chargeableWeight = Math.ceil(totalWeightInKg);

    // Determine shipping rate based on policy
    let shippingChargesNew;
    if (policy === "bangalore-high") {
        shippingChargesNew = 0;
    } else if (policy === "bangalore-low") {
        shippingChargesNew = chargeableWeight * 50;
    } else if (policy === "karnataka") {
        shippingChargesNew = chargeableWeight * 60;
    } else { // "outside"
        shippingChargesNew = chargeableWeight * 80;
    }

    // Update UI
    document.getElementById('shipchargechanges').innerHTML = '₹' + shippingChargesNew.toFixed(2);

    console.log('Total Grams:', totalGrams);
    console.log('Total Weight (kg):', totalWeightInKg.toFixed(3));
    console.log('Chargeable Weight (rounded up kg):', chargeableWeight);
    console.log('Shipping Charges (₹):', shippingChargesNew.toFixed(2));
    console.log('Policy:', policy);

    // Grand Total
    var currentGrandTotal = Number(checked) || 0;

    var coupon = (document.getElementById("additem")?.value || "").trim();
    let newGrandTotal;
    if (coupon === "KASHI414" || coupon === "Coupon") {
        alert('Coupon applied successfully');
        newGrandTotal = 0;
    } else {
        newGrandTotal = currentGrandTotal + shippingChargesNew;
    }

    document.getElementById("grandTotal").innerHTML = '₹' + newGrandTotal.toFixed(2);
}
  
  
  
  
  
  
  function calculateManualShippingChargesOld(checked, value) {
    console.log(cartValue, 'nn')
    var newDataArray = [];
    for (var i = 0; i < cartValue.length; i++) {
      newDataArray.push(
        ...cartValue[i].sizeDetails.map(item => ({
          qty: cartValue[i].qty,
          unit: item.unit,
          totalgrams: item.name,
          final: (item.unit == 'Kg' || item.unit == 'kg' || item.unit == 'l' || item.unit == 'L')
            ? cartValue[i].qty * 1000 * item.name
            : (item.unit == 'ml' || item.unit == 'g')
              ? cartValue[i].qty * item.name
              : 1
        }))
      );
    }

    for (var t = 0; t < customizedCartCount.length; t++) {
      newDataArray.push(
        ...customizedCartCount[t].masalaData.map(item => ({
          qty: 1,
          unit: 'g',
          totalgrams: item.qty,
          final: item.qty * 1
        }))
      );
    }

    var totalNameSum = newDataArray.reduce((acc, item) => acc + parseFloat(item.final), 0);
    var totalWeightInKg = totalNameSum / 1000;

    // ✅ Calculate shipping charges
    var shippingRatePerKg = 60; // Rs per KG
    // var shippingChargesNew = totalWeightInKg * shippingRatePerKg;
    
    let shippingChargesNew;

if (value === "includes") {
  shippingChargesNew = 0;
} else if (value === "not-includes") {
  shippingChargesNew = 100;
} else if (value === "out") {
  shippingChargesNew = totalWeightInKg * shippingRatePerKg;
}

    
    
    
    document.getElementById('shipchargechanges').innerHTML = '₹' + shippingChargesNew;

    console.log('Total Name Sum in Grams:', totalNameSum);
    console.log('Total Weight in Kilograms:', totalWeightInKg);
    console.log('Shipping Charges (₹):', shippingChargesNew.toFixed(2));

    console.log("Pincode includes ",value);

    // console.log(res.data.data, 'shipping')
    // document.getElementById("shipcharge").innerHTML = '₹' + res.data.data.available_courier_companies[0].rate;
    var data = checked.toFixed(2)
    var grandTotalElement = document.getElementById("grandTotal");
    var currentGrandTotal = parseFloat(data) || 0;
    // var shippingCharge = parseFloat(res.data.data.available_courier_companies[0].rate) || 0;


    var Coupon = document.getElementById("additem").value;

    if (Coupon == "KASHI414" || Coupon == 'Coupon') {
      alert('Coupon applied successfully')
      var newGrandTotal = 0;
    }
    else {
      var newGrandTotal = currentGrandTotal + Number(shippingChargesNew.toFixed(2));
      // alert(777)
    }

    // alert(newGrandTotal)

    grandTotalElement.innerHTML = '₹' + newGrandTotal.toFixed(2);


  }

  
  
  
  
  function calShippingCharges(checked){
    var data = checked.toFixed(2)
    // alert(data)
    //for products 
    // alert(JSON.stringify(cartValue))
    console.log(cartValue, 'nn')
    var newDataArray = [];
    for (var i = 0; i < cartValue.length; i++) {
      newDataArray.push(
        ...cartValue[i].sizeDetails.map(item => ({
          qty: cartValue[i].qty,
          unit: item.unit,
          totalgrams : item.name,
          final : (item.unit == 'Kg' || item.unit == 'kg'|| item.unit == 'l' || item.unit == 'L') ? cartValue[i].qty * 1000 * item.name : 
          (item.unit == 'ml' || item.unit == 'g') ? cartValue[i].qty * item.name : 1
          // totalGrams: cartValue[i].qty * ((item.unit == 'Kg' || item.unit == 'kg'|| item.unit == 'l' || item.unit == 'L') ? 1000 : 1)
        }))
      );
    }

    console.log(newDataArray, 'jj');


    //for masals
    // for (var t = 0; t < customizedCartCount.length; t++) {
    //   newDataArray.push(...customizedCartCount[t].masalaData.map(item => ({ name: item.qty, unit: 'gms' })));
    // }
    
    for (var t = 0; t < customizedCartCount.length; t++) {
      newDataArray.push(
        ...customizedCartCount[t].masalaData.map(item => ({
          qty: 1,
          unit: 'g',
          totalgrams : item.qty,
          final : item.qty * 1
        }))
      );
    }

    var totalNameSum = newDataArray.reduce((acc, item) => acc + parseFloat(item.final), 0);

    var totalWeightInKg = totalNameSum / 1000;

    // console.log(newDataArray, 555);
    console.log('Total Name Sum in Grams:', totalNameSum);
    console.log('Total Weight in Kilograms:', totalWeightInKg);
    
    // const url77 = apiurl + "user/calculateShipCharges";
    //   let formData77 = new FormData();
    //   var pickup = 560081;
    //   formData77.append('pickup',pickup);
    //   formData77.append('drop', userpincode);
    //   formData77.append('weight', totalWeightInKg)

    //     axios.post(url77, formData77)
    //       .then(res => {
    //         console.log(res.data.data, 'shipping')
    //         // document.getElementById("shipcharge").innerHTML = '₹' + res.data.data.available_courier_companies[0].rate;
    //         var grandTotalElement = document.getElementById("grandTotal");
    //         var currentGrandTotal = parseFloat(data) || 0;
    //         var shippingCharge = parseFloat(res.data.data.available_courier_companies[0].rate) || 0;

            
    //         var Coupon = document.getElementById("additem").value;
            
    //         if(Coupon == "KASHI414" || Coupon == 'Coupon'){
    //             alert('Coupon applied successfully')
    //             var newGrandTotal = 0;
    //         }
    //         else{
    //             var newGrandTotal = currentGrandTotal + shippingCharge;
    //             // alert(777)
    //         }

    //         grandTotalElement.innerHTML = '₹' + newGrandTotal.toFixed(2);
            

    //       })

  }

  function decrementCart(id, cartCount) {
    // if (localStorage.getItem("user_id")) {
      // add to cart
      let formData = new FormData();
      formData.append("id", id);
      if (cartCount == 1) {
        // const url = apiurl + "user/deleteFromCartById";
        // axios.post(url, formData)
        //   .then(res => {
        //     var results = res.data;
        //     window.location = ("cart.php")
        //   })
      } else {
        const url = apiurl + "user/decrementCartbyId";
        axios.post(url, formData)
          .then(res => {
            var results = res.data;
            window.location = ("cart.php")
          })
      }

    // } else {
    //   alert("you have not logged in please login")
    //   window.location = ("./login.html")
    // }

  }

  function checkCoupon() {
    if (localStorage.getItem("user_id")) {
      // add to cart
      let formData = new FormData();
      var Coupon = document.getElementById("additem").value;
      formData.append("Coupon", Coupon);
      formData.append("userid", localStorage.getItem("user_id"));

      const url = apiurl + "user/checkCoupon";
      axios.post(url, formData)
        .then(res => {
          var results = res.data;
            //  alert(JSON.stringify(results))
          // window.location = ("cart.html")
          if (results.result == 9) {
            document.getElementById('error').innerHTML = results.message;
          }
          if (results.result == 1) {
            couponid = 0
            var minval = parseFloat(results.datavlue[0].min_val)
            if (finalPrice.toFixed(2) < minval) {
              document.getElementById('error').innerHTML = "minimum purchase shoud be" + " " + minval;
            } else {
                 couponid = results.datavlue[0].id
              var Coupon = document.getElementById("additem").value;
              document.getElementById('error').innerHTML = "";
              document.getElementById("item").style.display = "block";
              document.getElementById("couponcode").innerHTML = Coupon

              if (results.datavlue[0].amount_type == "flat") {
                discount_amount = results.datavlue[0].amount;
                calculateCart();
              } else {
                discount_amount =parseFloat((results.datavlue[0].amount * finalPrice) / 100).toFixed(2);
                calculateCart();
              }

              // alert(1)
              //   couponid = results[0].id
              //   var Coupon = document.getElementById("additem").value;
              //   document.getElementById('error').innerHTML = "";
              //   document.getElementById("item").style.display = "block";
              //   document.getElementById("couponcode").innerHTML = Coupon
              //   if (results.datavlue[0].amount_type == "flat") {
              //     Discount = results.datavlue[0].amount;
              //     calculateCart()
              //   } else {
              //     Discount = (results.datavlue[0].amount * subtotal) / 100
              //     calculateCart()


              //   }


            }

          }
        })

    } else {
      alert("you have not logged in please login")
      window.location = ("./login.html")
    }

  }
  
  
  function checkCouponCode()
  {
      var Coupon = document.getElementById("additem").value;
      if(Coupon == "KASHI414" || Coupon == 'KASHI414'){
          placeOrderForZeroAmount();
      }
      else{
          
          var razorpay_payment_id = "before_payment";
          placeOrder(razorpay_payment_id);
          
        //   makePayment();
        // var razorpay_payment_id = "pay_QoVILSEvTL2qIL"
        // placeOrder(razorpay_payment_id);
      }
  }

  /**
   * creating order id 
   */
  function makePayment(invoiceid) {
    // alert(1)
    let api_key = 'rzp_live_Gg8zAMB1Rx6GGK';
    let api_secret = '7CYp8NVD1R8Xm1fnBAZzu6FX';
    var shipchargedata = document.getElementById("shipchargechanges").innerHTML;
    var numericValue = parseFloat(shipchargedata.replace(/[^0-9.]/g, ''));
    

    var amount = parseFloat(finalGrandTot.toFixed(2)) + parseFloat(numericValue);
    
    amount = ((amount) * 100).toFixed(3);
    var amountone = ((amount) * 100).toFixed(0);
    // alert(amount)
    if(!Number(amount)){
        alert('Update correct address and pincode')
    }
    else
    {
        var hash = CryptoJS.HmacSHA256(amountone, api_secret).toString();
        
        let formData = new FormData();
        formData.append("api_key", api_key)
        formData.append("api_secret", api_secret);
        formData.append('amount', amountone);
        formData.append('amounts', amount);
        formData.append('hash', hash);
        const urlorder = apiurl + "user/initiate_payment";
        axios.post(urlorder, formData)
          .then(res => {
            // alert(JSON.stringify(res.data.orderId))
            raz_orderid = res.data.orderId
            makePaymentOne(amount, invoiceid)
          })
    }
    
  }


  function makePaymentOne(amount, invoiceid) {
    // alert(raz_orderid)
    var userAddress = document.getElementById("addressid").innerHTML
    var address = userAddress.trim();
    // console.log(cartValue)
    // console.log(customizedCartCount)
    if (localStorage.getItem("user_id")) {

      if (address.length == 0) {
        alert("Please select address")
      } else {
        // var amount = newPrice.toFixed(2)
        var amounts = ((amount) / 100).toFixed(3);
        var options = {
          key: "rzp_live_Gg8zAMB1Rx6GGK",
          order_id: raz_orderid,
          amount: (amount),
          currency: "INR",
          name: "Girani",
          "method":{
            "netbanking":1,
            "card":1,
            "upi":1,
            "wallet":0
          },
          description: "Thank You For Your Purchase",
          // image: logolatest,
          handler: function(response) {

            // if (response.razorpay_payment_id != "") {
             
            //   placeOrder(response.razorpay_payment_id);
            //   alert("Payment done")


            //   //here adding first message
            // }
            
            if (response.razorpay_payment_id) {
                orderHappenMessage(invoiceid)
                savePaymentStatus(response.razorpay_payment_id, "Success", invoiceid);
                window.location = ("./Order.php")
                // placeOrder(response.razorpay_payment_id);

                alert("Payment Successful");
            }
          },
          
          
          modal: {
                    ondismiss: function () {
                        // Handle when the payment window is closed without completion
                        savePaymentStatus('Payment window closed', "Failed", invoiceid);
                        alert("Payment window closed. Please complete the payment.");
                    }
                }
        }
        let rzp = new window.Razorpay(options);
        
         // Capture Payment Failure
         rzp.on("payment.failed", function (response) {
            savePaymentStatus(response.error.metadata.payment_id, "Failed", invoiceid);
            alert("Payment Failed: " + response.error.description);
        });
        
        rzp.open();
      }

    } else {
      alert("you have not logged in please login")
      window.location = ("./Signin.html")
    }

    // else{
    //   alert(2)
    // }
  }

  //   function function sendMessage(){
  //         var invoiceid = Date.now(); //this as orderid
  //         let formData = new FormData();
  //         formData.append("invoiceid", invoiceid);
  //         // localStorage.setItem("phonenumber",usernavphone ) = addded in navbar .php
  //         formData("userid", localStorage.getItem("usernavphone")); // have to add user phone number
  //           const url8 = apiurl + "user/order_success";
  //           axios.post(url8, formData)
  //             .then(res => {
  //                 console.log(res)
  //             })
  //   }
  
  
  
  function savePaymentStatus(paymentid, status, invoiceid) {
    let formData114 = new FormData();
    formData114.append('invoiceid', invoiceid);
    formData114.append('razorpayStatus', status);
    formData114.append('paymentid', paymentid);
    const url21 = apiurl + "user/updatePaymnetDataSTatu";
    axios.post(url21, formData114)
    .then(res => {
      console.log(res);
      console.log('this is for saving razorpay status')
    })
  }

    function placeOrder(razorpay_payment_id) {
        var newdisc = document.getElementById("Discount").innerHTML
    
        let resultaa = newdisc.substr(1);
      var shipchargedata = document.getElementById("shipchargechanges").innerHTML;
    var numericValue = parseFloat(shipchargedata.replace(/[^0-9.]/g, ''));

    var payment_ref = razorpay_payment_id;
    var userid = localStorage.getItem("user_id")
    if (cartValue.length == 0) {
      var cartValuedata = '0';
    } else {
      var cartValuedata = JSON.stringify(cartValue)
    }

    if (customizedCartCount.length == 0) {
      var custuminzedCartdata = '0';
    } else {
      var custuminzedCartdata = JSON.stringify(customizedCartCount)
    }
    var payment_mode = 'online';
    var tax_perc = 5;
    var tax_val = customized_gst;
    var item_total = grandTotal;
    var subtotalnormal = subtotal;
    var subtotalCustomized = customized_grandTotal;
    var grandtotal = finalPrice;
    // var discount_amt = Discount;
    var discount_amt = Number(Discount)+ Number(resultaa);
    var addressid = address_id;
    var couponid = couponid;
    var invoiceid = Date.now();
    // orderHappenMessage(invoiceid)
    let formData = new FormData();
    console.log(custuminzedCartdata)
    formData.append("username", username)
    formData.append("userphone", userphone);
    formData.append("payment_ref", payment_ref);
    formData.append("userid", userid);
    formData.append("cartValue", cartValuedata);
    formData.append("customize_cart", custuminzedCartdata);
    formData.append("payment_mode", payment_mode);
    formData.append("tax_perc", tax_perc);
    formData.append("tax_val", tax_val);
    formData.append("item_total", item_total);
    formData.append("subtotalnormal", subtotalnormal);
    formData.append("subtotalCustomized", subtotalCustomized);
    formData.append("grandtotal", finalGrandTot);
    formData.append("discount_amt", discount_amt);
    formData.append("addressid", addressid);
    formData.append("invoiceid", invoiceid);
    formData.append("couponid", couponid);
    formData.append('numericValue', numericValue);
    const url = apiurl + "user/placeOrder";
    
    
    if (isNaN(numericValue) || numericValue === null || numericValue === undefined) {
        alert('Update correct address and pincode');
    } else {
        
        axios.post(url, formData)
          .then(res => {
            var results = res.data;
            console.log(results)
            makePayment(invoiceid);
            // alert("Payment done")
            // window.location = ("./Order.php")
          })
    }
  }
  
  function placeOrderForZeroAmount() {
      alert(5657657)
        var newdisc = document.getElementById("Discount").innerHTML
    
        let resultaa = newdisc.substr(1);
      var shipchargedata = document.getElementById("shipchargechanges").innerHTML;
    var numericValue = parseFloat(shipchargedata.replace(/[^0-9.]/g, ''));

    // var payment_ref = razorpay_payment_id;
    var userid = localStorage.getItem("user_id")
    if (cartValue.length == 0) {
      var cartValuedata = '0';
    } else {
      var cartValuedata = JSON.stringify(cartValue)
    }

    if (customizedCartCount.length == 0) {
      var custuminzedCartdata = '0';
    } else {
      var custuminzedCartdata = JSON.stringify(customizedCartCount)
    }
    var payment_mode = 'online';
    var tax_perc = 5;
    var tax_val = customized_gst;
    var item_total = grandTotal;
    var subtotalnormal = subtotal;
    var subtotalCustomized = customized_grandTotal;
    var grandtotal = finalPrice;
    // var discount_amt = Discount;
    var discount_amt = Number(Discount)+ Number(resultaa);
    var addressid = address_id;
    var couponid = couponid;
    var invoiceid = Date.now();
    // orderHappenMessage(invoiceid)
    let formData = new FormData();
    // console.log(custuminzedCartdata)
    formData.append("username", username)
    formData.append("userphone", userphone);
    // formData.append("payment_ref", payment_ref);
    formData.append("userid", userid);
    formData.append("cartValue", cartValuedata);
    formData.append("customize_cart", custuminzedCartdata);
    formData.append("payment_mode", payment_mode);
    formData.append("tax_perc", tax_perc);
    formData.append("tax_val", tax_val);
    formData.append("item_total", item_total);
    formData.append("subtotalnormal", subtotalnormal);
    formData.append("subtotalCustomized", subtotalCustomized);
    formData.append("grandtotal", finalGrandTot);
    formData.append("discount_amt", discount_amt);
    formData.append("addressid", addressid);
    formData.append("invoiceid", invoiceid);
    formData.append("couponid", couponid);
    formData.append('numericValue', numericValue);
    const url = apiurl + "user/placeOrderForZeroAmount";
    axios.post(url, formData)
      .then(res => {
        var results = res.data;
        console.log(results)
        alert("Payment done")
        window.location = ("./Order.php")
      })
  }

  function orderHappenMessage(invoiceid) {
    // alert(1)
    let formData11 = new FormData();
    formData11.append("mobileno", userphone);
    formData11.append("invoiceid", invoiceid);
    const url8 = apiurl + "user/order_success";
    axios.post(url8, formData11)
      .then(res => {
        console.log(res)
        // alert(JSON.stringify(res))
      })
  }

  function movetoEdit(id, cartid) {
    localStorage.setItem("cartid", cartid)
    localStorage.setItem("masalaid", id)
    window.location = ("./Edit_cart.php")
  }

  if (localStorage.getItem("user_id")) {

    // alert(a)

    if(a != null){
      var tempStatic = [];
      for (var i = 0; i < a.length; i++) {
        tempStatic.push(a[i].id)
      }
      
      let formdatanew = new FormData();
      formdatanew.append("user_id", localStorage.getItem("user_id"))
      formdatanew.append("tempStatic", tempStatic)
      const url15 = apiurl + "user/changeCartData";
      axios.post(url15, formdatanew)
        .then(res => {
            
        })     
    }
    
      let formdeata = new FormData();
      formdeata.append("user_id", localStorage.getItem("user_id"))
            axios.post(url, formdeata)
              .then(res => {
                var results = res.data;
                cartValue = results;
                for (var i = 0; i < results.length; i++) {
                  if(results[i].qty == 1 || results[i].qty == "1" || results[i].qty == '1'){
                    var price = results[i].sizeDetails[0].discount_price
                  }
                  else{
                    var price = Number(results[i].sizeDetails[0].discount_price)*Number(results[i].qty)
                  }
                  var data = `
                  <div class="d-flex mr-2 pl-1 pt-2">
                    <img style="width: 70px; height: 70px;border: 1px solid #D5D5D5;border-radius: 5px;padding: 5px;margin-right: 10px;"
                          src=` + imageurl + 'images/prodtimg/' + results[i].productDetail[0].image + ` alt="">
                    <div class="pr-0" style="width:350px">
                      <a style="color: #593825;">` + results[i].productDetail[0].name + `</a>
                      <p><a style="color: #985F3F;font-size: small;">qty:` + results[i].qty + `.</a> </p>
                      <p><a style="color: #985F3F;font-size: small;">`+ results[i].sizeDetails[0].name +'' +results[i].sizeDetails[0].unit + `</a> </p>

                    </div>
                    <div>
                          <div class = "row">
                              <p class="ml-4 mr-2 pt-1" style="font-size: small;border: 1px solid #E4E4E4; width: 100px;height: 30px;border-radius: 5px;">
                              <i class="fa-solid fa-circle-minus pl-2 pr-2" style="color: #425D27;"  onclick="decrementCart(` + results[i].id + `,` + results[i].qty + `)"></i>
                              <span>` + results[i].qty + `</span>
                              <i class="fa-solid fa-circle-plus pl-1" style="color: #425D27;margin-left:18px;"  onclick="incrementCart(` + results[i].id + `)"></i>
                            </p>
                            <i class="fa fa-trash" style="margin-top: 7px;margin-left: 5px" onclick="deleteProductCart(` + results[i].id + `)"></i>
                          </div>
                          <p class = "ml-5" style = "color: #425D27; font-weight: bold">₹ ` + price + `</p>
                                                              
                        </div>
                  </div>
                  `
                  $("#cartlist").append(data);
                }
                calculateCart();
                
              }) 
      
  } else {

    axios.get(url15)
    .then(res => {
      console.log(res, 'jjj')
      var results = res.data
      if(results.length > 0){
        var a = JSON.parse(localStorage.getItem('session'))
        // alert(JSON.stringify(a))
        cartValueBeforeLogin = results;
        for(var j = 0; j< a.length; j++){
          for (var i = 0; i < results.length; i++) {
            if(Number(a[j].id) === Number(results[i].product_id) && Number(a[j].sizeid) == Number(results[i].qty_id)){
              // alert(1)
              if(results[i].qty == 1 || results[i].qty == "1" || results[i].qty == '1'){
                    var price = results[i].sizeDetails[0].discount_price
                  }
                  else{
                    var price = Number(results[i].sizeDetails[0].discount_price)*Number(results[i].qty)
                  }
                    var data = `
                    <div class="d-flex mr-2 pl-1 pt-2">
                  <img style="width: 70px; height: 70px;border: 1px solid #D5D5D5;border-radius: 5px;padding: 5px;margin-right: 10px;"
                            src=` + imageurl + 'images/prodtimg/' + results[i].productDetail[0].image + ` alt="">
                  <div class="pr-0" style="width:350px">
                    <a style="color: #593825;">` + results[i].productDetail[0].name + `</a>
                    <p><a style="color: #985F3F;font-size: small;">qty:` + results[i].qty + `.</a> </p>
                    <p><a style="color: #985F3F;font-size: small;">`+ results[i].sizeDetails[0].name +'' +results[i].sizeDetails[0].unit + `</a> </p>
                  </div>
                  <div>
                  <div class = "row">
                              <p class="ml-4 mr-2 pt-1" style="font-size: small;border: 1px solid #E4E4E4; width: 100px;height: 30px;border-radius: 5px;">
                              <i class="fa-solid fa-circle-minus pl-2 pr-2" style="color: #425D27;"  onclick="decrementCart(` + results[i].id + `,` + results[i].qty + `)"></i>
                              <span>` + results[i].qty + `</span>
                              <i class="fa-solid fa-circle-plus pl-1" style="color: #425D27;margin-left:18px;"  onclick="incrementCart(` + results[i].id + `)"></i>
                            </p>
                            <i class="fa fa-trash" style="margin-top: 7px;margin-left: 5px" onclick="deleteProductCartbeforelogin(` + results[i].id + `,` + results[i].qty_id + `,` + results[i].product_id +  `)"></i>
                          </div>
                          <p class = "ml-5" style = "color: #425D27; font-weight: bold">₹ ` + price + `</p>
                                                              
                        </div>
                </div>
                    `
              $("#cartlist").append(data);
            }

          }
          calculateBeforeLogin();
        }

      }
      
    })
  }

  
  ///product end here
</script>



</body></html>